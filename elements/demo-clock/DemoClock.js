class DemoClock extends CustomElementBase{constructor(){super(),this.CONTENT_SIZE=32,this.SELECTOR_HAND='.hand',this.SELECTOR_MARKER_HOUR='#marker-hour',this.SELECTOR_MARKER_MINUTE='#marker-minute',this._connected=!1,this._shouldModifyAttrTabindex=null,this._shouldModifyAttrTitle=null,this._value=null,this._view=null,this.addEventListener('click',this._onClick),this.addEventListener('keypress',this._onKeyPress),this.appendTemplateToShadow(),this._appendClockMarkers()}static get is(){return'demo-clock'}static get observedAttributes(){return['disabled','paused']}get datetime(){const a=this.querySelector('time');return null===a?'':a.getAttribute('datetime')}get disabled(){return this.hasAttribute('disabled')}set disabled(a){this.reflectBooleanPropToAttr('disabled',a)}get paused(){return this.hasAttribute('paused')}set paused(a){this.reflectBooleanPropToAttr('paused',a)}get value(){return this._value}set value(a){this._onPropChangeValue(a)}attributeChangedCallback(a,b,c){'disabled'===a?this._onAttrChangeDisabled(c):'paused'===a?this._onAttrChangePaused(c):void 0}connectedCallback(){this._connected=!0,this._view=this.ownerDocument.defaultView,this._updateAttrTabindex(!this.disabled),this.setTime(this.getAttribute('value')||this._value)}disconnectedCallback(){this._connected=!1,this._view=null}getTime(){return this.textContent}setTime(a=null){this.value=a}_appendClockMarkers(){const a=this.shadowRoot.querySelector(this.SELECTOR_HAND),b=this.shadowRoot.querySelector('svg');let c,d;for(c=0;360>c;c+=6)d=this.ownerDocument.createElementNS('http://www.w3.org/2000/svg','use'),c%30?d.setAttribute('href',this.SELECTOR_MARKER_MINUTE):d.setAttribute('href',this.SELECTOR_MARKER_HOUR),d.setAttribute('transform',`rotate(${c}, ${this.CONTENT_SIZE/2}, ${this.CONTENT_SIZE/2})`),b.insertBefore(d,a)}_onClick(a){this.disabled?(a.preventDefault(),a.stopPropagation()):this.paused=!this.paused}_onKeyPress(a){('Enter'===a.code||'Space'===a.code)&&this.dispatchEvent(new MouseEvent('click',{bubbles:!0,cancelable:!0,view:this._view}))}_onAttrChangeDisabled(a){this._connected&&this._updateAttrTabindex(null===a)}_onAttrChangePaused(a){this._connected&&null===a&&null===this._value&&this._updateClock()}_onPropChangeValue(a){this._value=a,this._connected&&(null===a?this._setTime(new Date):(this.paused=!0,this._setTime(new Date(a))))}_removeAnimationName(a){a.style.animationName=''}_resetAnimation(a,b){b.style.animationDelay='',b.style.animationName='none',a.setTimeout(this._removeAnimationName,1,b)}_setTime(a){const b=a.toLocaleTimeString(this.ownerDocument.documentElement.lang||void 0);let c=this.querySelector('time');this._updateAttrTitle(b),this._updateClock(a),null===c&&(c=this.appendChild(this.ownerDocument.createElement('time'))),c.setAttribute('datetime',a.toJSON()),c.textContent=b}_updateAttrTabindex(a){null===this._shouldModifyAttrTabindex&&(this._shouldModifyAttrTabindex=!this.hasAttribute('tabindex')),this._shouldModifyAttrTabindex&&(a?this.setAttribute('tabindex','0'):this.removeAttribute('tabindex'))}_updateAttrTitle(a){null===this._shouldModifyAttrTitle&&(this._shouldModifyAttrTitle=!this.hasAttribute('title')),this._shouldModifyAttrTitle&&this.setAttribute('title','Time: '+a)}_updateClock(a=new Date){const b=[...this.shadowRoot.querySelectorAll(this.SELECTOR_HAND)],c=a.getHours(),d=a.getSeconds(),e=a.getMinutes()+d/60,f=(11<c?c-12:c)+e/60;this._view&&(b.forEach((a)=>this._resetAnimation(this._view,a)),b[0].style.animationDelay=`-${60*(60*(12*(f/12)))}s`,b[1].style.animationDelay=`-${60*(60*(e/60))}s`,b[2].style.animationDelay=`-${60*(d/60)}s`)}}